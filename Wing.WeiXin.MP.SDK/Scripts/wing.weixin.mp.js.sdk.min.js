/**
 * Weixin JS SDK v0.0.3
 * 用于简化微信JS初始化操纵（搭配Wing.Weixin.MP.SDK）
 *
 * Update(v0.0.3)：
 * 1.全部封装WXJS接口
 */
function weixin(url){if(typeof jQuery=="undefined"){alert("未发现JQuery")}this.isDebug=true;this.isHideOptionMenu=false;this.load=function(apiList,callback){if(this.isDebug){callback();return}if(!$.isArray(apiList)||apiList.length==0){throw"API列表不能为空"}if(this.isHideOptionMenu){apiList.concat(["hideOptionMenu"])}$.getJSON((typeof url=="undefined"?"/WeixinConfig":url)+"?url="+encodeURIComponent((typeof this.href!="undefined")?this.href:location.href)+"&apiList="+apiList.join(),function(data){wx.config(data);wx.ready(function(){if(isHideOptionMenu){hideOptionMenu()}callback()});wx.error(function(res){failCallback(res)})})};this.failCallback=function(r){throw ("配置注入失败，原因："+r)};this.onMenuShareTimeline=function(title,link,imgUrl,success,cancel){if(this.isDebug){success(title,link,imgUrl);return}wx.onMenuShareTimeline({title:title,link:link,imgUrl:imgUrl,success:success,cancel:cancel})};this.onMenuShareAppMessage=function(title,desc,link,imgUrl,type,dataUrl,success,cancel){if(this.isDebug){success(title,desc,link,imgUrl,type,dataUrl);return}wx.onMenuShareAppMessage({title:title,desc:desc,link:link,imgUrl:imgUrl,type:type,dataUrl:dataUrl,success:success,cancel:cancel})};this.onMenuShareQQ=function(title,desc,link,imgUrl,success,cancel){if(this.isDebug){success(title,desc,link,imgUrl);return}wx.onMenuShareQQ({title:title,desc:desc,link:link,imgUrl:imgUrl,success:success,cancel:cancel})};this.onMenuShareWeibo=function(title,desc,link,imgUrl,success,cancel){if(this.isDebug){success(title,desc,link,imgUrl);return}wx.onMenuShareWeibo({title:title,desc:desc,link:link,imgUrl:imgUrl,success:success,cancel:cancel})};this.startRecord=function(debugEvent){if(this.isDebug){if(typeof debugEvent!="undefined"){debugEvent()}return}wx.startRecord()};this.stopRecord=function(success,debugRes){if(this.isDebug){success(debugRes);return}wx.stopRecord({success:success})};this.onVoiceRecordEnd=function(complete,debugRes){if(this.isDebug){complete(debugRes);return}wx.onVoiceRecordEnd({complete:complete})};this.playVoice=function(localId,debugEvent){if(this.isDebug){if(typeof debugEvent!="undefined"){debugEvent(localId)}return}wx.playVoice({localId:localId})};this.pauseVoice=function(localId,debugEvent){if(this.isDebug){if(typeof debugEvent!="undefined"){debugEvent(localId)}return}wx.pauseVoice({localId:localId})};this.stopVoice=function(localId,debugEvent){if(this.isDebug){if(typeof debugEvent!="undefined"){debugEvent(localId)}return}wx.stopVoice({localId:localId})};this.onVoicePlayEnd=function(success,debugRes){if(this.isDebug){success(debugRes);return}wx.onVoicePlayEnd({success:success})};this.uploadVoice=function(localId,isShowProgressTips,success,debugRes){if(this.isDebug){success(debugRes);return}wx.uploadVoice({localId:localId,isShowProgressTips:isShowProgressTips,success:success})};this.downloadVoice=function(serverId,isShowProgressTips,success,debugRes){if(this.isDebug){success(debugRes);return}wx.downloadVoice({serverId:serverId,isShowProgressTips:isShowProgressTips,success:success})};this.chooseImage=function(success,debugRes){if(this.isDebug){success(debugRes);return}wx.chooseImage({success:success})};this.previewImage=function(current,urls,debugEvent){if(this.isDebug){if(typeof debugEvent!="undefined"){debugEvent(current,urls)}return}wx.previewImage({current:current,urls:urls})};this.uploadImage=function(localId,isShowProgressTips,success,debugRes){if(this.isDebug){success(debugRes);return}wx.uploadImage({localId:localId,isShowProgressTips:isShowProgressTips,success:success})};this.downloadImage=function(serverId,isShowProgressTips,success,debugRes){if(this.isDebug){success(debugRes);return}wx.downloadImage({serverId:serverId,isShowProgressTips:isShowProgressTips,success:success})};this.translateVoice=function(localId,isShowProgressTips,success,debugRes){if(this.isDebug){success(debugRes);return}wx.translateVoice({localId:localId,isShowProgressTips:isShowProgressTips,success:success})};this.getNetworkType=function(success,debugRes){if(this.isDebug){success(debugRes);return}wx.getNetworkType({success:success})};this.openLocation=function(latitude,longitude,name,address,scale,infoUrl,debugEvent){if(this.isDebug){debugEvent(latitude,longitude,name,address,scale,infoUrl);return}wx.openLocation({latitude:latitude,longitude:longitude,name:name,address:address,scale:scale,infoUrl:infoUrl})};this.getLocation=function(success,debugRes){if(this.isDebug){success(debugRes);return}wx.getLocation({success:success})};this.hideOptionMenu=function(debugEvent){if(this.isDebug){if(typeof debugEvent!="undefined"){debugEvent()}return}wx.hideOptionMenu()};this.showOptionMenu=function(debugEvent){if(this.isDebug){if(typeof debugEvent!="undefined"){debugEvent()}return}wx.showOptionMenu()};this.hideMenuItems=function(menuList,debugEvent){if(this.isDebug){if(typeof debugEvent!="undefined"){debugEvent(menuList)}return}wx.hideMenuItems({menuList:menuList})};this.showMenuItems=function(menuList,debugEvent){if(this.isDebug){if(typeof debugEvent!="undefined"){debugEvent(menuList)
}return}wx.showMenuItems({menuList:menuList})};this.hideAllNonBaseMenuItem=function(debugEvent){if(this.isDebug){if(typeof debugEvent!="undefined"){debugEvent()}return}wx.hideAllNonBaseMenuItem()};this.showAllNonBaseMenuItem=function(debugEvent){if(this.isDebug){if(typeof debugEvent!="undefined"){debugEvent()}return}wx.showAllNonBaseMenuItem()};this.closeWindow=function(debugEvent){if(this.isDebug){if(typeof debugEvent!="undefined"){debugEvent()}return}wx.closeWindow()};this.scanQRCode=function(needResult,scanType,success,debugRes){if(this.isDebug){success(debugRes);return}wx.scanQRCode({needResult:needResult,scanType:scanType,success:success})};this.chooseWXPay=function(timestamp,nonceStr,prepay_id,signType,paySign,success,debugRes){if(this.isDebug){success(debugRes);return}wx.chooseWXPay({timestamp:timestamp,nonceStr:nonceStr,prepay_id:prepay_id,signType:signType,paySign:paySign,success:success})};this.openProductSpecificView=function(productId,viewType,debugEvent){if(this.isDebug){if(typeof debugEvent!="undefined"){debugEvent(productId,viewType)}return}wx.openProductSpecificView({productId:productId,viewType:viewType})};this.addCard=function(cardList,success,debugRes){if(this.isDebug){success(debugRes);return}wx.chooseCard({cardList:cardList,success:success})};this.chooseCard=function(shopId,cardType,cardId,timestamp,nonceStr,signType,cardSign,success,debugRes){if(this.isDebug){success(debugRes);return}wx.chooseCard({shopId:shopId,cardType:cardType,cardId:cardId,timestamp:timestamp,nonceStr:nonceStr,signType:signType,cardSign:cardSign,success:success})};this.openCard=function(cardList,debugEvent){if(this.isDebug){if(typeof debugEvent!="undefined"){debugEvent(cardList)}return}wx.openCard({cardList:cardList})}};